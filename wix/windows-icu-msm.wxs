<?xml version="1.0" encoding="utf-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Module Id="dt.compnerd.org.SwiftRuntime.ICU" Language="1033" Version="64.1">
    <Package Id="f6f64299-359c-4097-abf9-c72f71edb794"
             Comments="Copyright 2020 Saleem Abdulrasool &lt;compnerd@compnerd.org&gt;"
             Description="ICU"
             InstallScope="perMachine"
             Manufacturer="dt.compnerd.org" />

    <!-- Directory Structure -->
    <Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="WINDOWSVOLUME">
        <Directory Id="LIBRARY" Name="Library">
          <Directory Id="ICU" Name="icu-64">
            <Directory Id="ICU_USR" Name="usr">
              <Directory Id="ICU_USR_BIN" Name="bin">
              </Directory>
            </Directory>
          </Directory>
        </Directory>
      </Directory>
    </Directory>

    <SetDirectory Id="WINDOWSVOLUME" Value="[WindowsVolume]" />

    <!-- Components -->
    <DirectoryRef Id="ICU_USR_BIN">
      <Component Id="ICU_RUNTIME" Guid="af2bccab-70c7-41cd-9ec6-a265f79c0d63">
        <File Id="ICUDT64_DLL" Source="$(var.ICU_ROOT)\Library\icu-64\usr\bin\icudt64.dll" Checksum="yes" />
        <File Id="ICUIN64_DLL" Source="$(var.ICU_ROOT)\Library\icu-64\usr\bin\icuin64.dll" Checksum="yes" />
        <File Id="ICUUC64_DLL" Source="$(var.ICU_ROOT)\Library\icu-64\usr\bin\icuuc64.dll" Checksum="yes" />
      </Component>
    </DirectoryRef>

    <DirectoryRef Id="TARGETDIR">
      <Component Id="ENV_VARS" Guid="0138a205-109c-49ca-878b-bd533eb0fd05">
        <Environment Id="PATH" Action="set" Name="PATH" Part="last" Permanent="no" System="yes" Value="[WindowsVolume]Library\icu-64\usr\bin" />
      </Component>
    </DirectoryRef>
  </Module>
</Wix>
